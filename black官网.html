<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black团队官网</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .button {
            background-color: #333;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            margin: 20px;
            text-decoration: none;
            display: inline-block;
        }
        .button:hover {
            background-color: #555;
        }
        .intro {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        .activity-buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .color-picker {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        .color-box {
            width: 40px;
            height: 40px;
            margin: 0 5px;
            cursor: pointer;
        }
        #canvas {
            border: 1px solid black;
        }

        /* 文本输入框 */
        #textInputContainer {
            margin-top: 20px;
        }
        #textInput {
            width: 200px;
            padding: 5px;
            margin-right: 10px;
        }
        #fontSize {
            width: 50px;
            padding: 5px;
        }

        #backgroundColorPicker {
            margin-top: 20px;
        }

        .gallery {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        .gallery img {
            margin: 10px;
            max-width: 150px;
            max-height: 150px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>欢迎来到Black团队官网</h1>

    <div class="intro">
        <h2>Black团队介绍</h2>
        <p>Black团队是PICO轻世界的娱乐组织，为大家提供每时每刻的精彩</p>
    </div>

    <a href="https://kassuone.github.io/Blacktuandui/black.html" class="button">了解更多</a>

    <!-- 活动选择按钮 -->
    <div class="activity-buttons">
        <a href="#drawing-game" class="button">画画</a>
        <a href="#gallery" class="button">查看其他作品</a>
    </div>
</div>

<video src="black宣传.mp4" controls autoplay loop muted>
    您的浏览器不支持video标签。
</video>

<!-- 画画 -->
<div id="drawing-game" style="display:block;">
    <h2>画画</h2>
    <canvas id="canvas" width="500" height="500" style="border: 1px solid black;"></canvas>
    <div class="color-picker">
        <div class="color-box" style="background-color: red;" onclick="changeColor('red')"></div>
        <div class="color-box" style="background-color: blue;" onclick="changeColor('blue')"></div>
        <div class="color-box" style="background-color: green;" onclick="changeColor('green')"></div>
        <input type="color" id="colorPicker" onchange="changeColor(this.value)" />
    </div>

    <!-- 背景颜色选择 -->
    <div id="backgroundColorPicker">
        <label for="bgColor">背景颜色：</label>
        <input type="color" id="bgColor" onchange="changeBackgroundColor(this.value)" />
        <label for="transparentBg">透明背景：</label>
        <input type="checkbox" id="transparentBg" onchange="toggleTransparentBg()" />
    </div>

    <!-- 文本绘制 -->
    <div id="textInputContainer">
        <input type="text" id="textInput" placeholder="输入文本" />
        <input type="number" id="fontSize" value="20" min="5" max="100" /> 
        <button onclick="addText()">添加文本</button>
    </div>

    <button onclick="clearCanvas()">清除画布</button>
    <button onclick="enableErase()">启用橡皮</button>
    <button onclick="disableErase()">禁用橡皮</button>
    <button onclick="saveCanvas()">保存作品</button>
    <button onclick="downloadCanvas()">下载作品</button>

    <script>
        const drawingCanvas = document.getElementById("canvas");
        const ctx = drawingCanvas.getContext("2d");
        let drawing = false;
        let currentColor = 'black';  // 默认画笔颜色
        let isErasing = false;  // 是否启用橡皮功能
        let bgColor = '#ffffff';  // 默认背景颜色

        // 画布背景颜色
        drawingCanvas.style.backgroundColor = bgColor;

        // 开始绘画
        drawingCanvas.onmousedown = (e) => {
            drawing = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
        };

        drawingCanvas.onmousemove = (e) => {
            if (drawing) {
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.strokeStyle = currentColor;
                ctx.lineWidth = 5;
                ctx.stroke();
            }
        };

        drawingCanvas.onmouseup = () => {
            drawing = false;
        };

        // 清空画布
        function clearCanvas() {
            ctx.clearRect(0, 0, drawingCanvas.width, drawingCanvas.height);
            drawingCanvas.style.backgroundColor = bgColor;
        }

        // 改变颜色
        function changeColor(color) {
            currentColor = color;
        }

        // 改变背景颜色
        function changeBackgroundColor(color) {
            bgColor = color;
            if (!document.getElementById('transparentBg').checked) {
                drawingCanvas.style.backgroundColor = color;
            }
        }

        // 开启透明背景
        function toggleTransparentBg() {
            if (document.getElementById('transparentBg').checked) {
                drawingCanvas.style.backgroundColor = 'transparent';
            } else {
                drawingCanvas.style.backgroundColor = bgColor;
            }
        }

        // 添加文本
        function addText() {
            const text = document.getElementById('textInput').value;
            const fontSize = document.getElementById('fontSize').value;
            ctx.font = `${fontSize}px Arial`;
            ctx.fillStyle = currentColor;
            ctx.fillText(text, 50, 50);  // 可以根据需要修改位置
        }

        // 启用橡皮功能
        function enableErase() {
            isErasing = true;
            currentColor = bgColor;  // 橡皮擦用背景色来擦除
        }

        // 禁用橡皮功能
        function disableErase() {
            isErasing = false;
            currentColor = 'black';  // 恢复默认画笔颜色
        }

        // 橡皮擦功能
        drawingCanvas.onmousemove = (e) => {
            if (drawing) {
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.strokeStyle = currentColor;
                ctx.lineWidth = 10;  // 增加橡皮擦的宽度
                ctx.stroke();
            }
        };

        // 保存作品
        function saveCanvas() {
            const dataURL = drawingCanvas.toDataURL('image/png');
            localStorage.setItem('savedImage', dataURL);
            alert('作品已保存！');
        }

        // 下载作品
        function downloadCanvas() {
            const dataURL = drawingCanvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.href = dataURL;
            link.download = '作品.png';
            link.click();
        }
    </script>
</div>

<!-- 作品展示 -->
<div id="gallery" style="display:none;">
    <h2>其他人的作品</h2>
    <div class="gallery" id="galleryContainer">
        <!-- 这里会显示保存的作品 -->
    </div>
    <button onclick="loadGallery()">加载作品</button>
</div>

<script>
    // 显示不同的活动区域
    document.querySelectorAll('.button').forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = e.target.getAttribute('href').substring(1);
            document.querySelectorAll('div[id]').forEach(div => {
                div.style.display = 'none';
            });
            document.getElementById(targetId).style.display = 'block';
        });
    });

    // 加载保存的作品
    function loadGallery() {
        const savedImage = localStorage.getItem('savedImage');
        if (savedImage) {
            const img = document.createElement('img');
            img.src = savedImage;
            document.getElementById('galleryContainer').appendChild(img);
        } else {
            alert('没有找到保存的作品');
        }
    }
</script>

</body>
</html>
