<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black团队官网</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .button {
            background-color: #333;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            margin: 20px;
            text-decoration: none;
            display: inline-block;
        }
        .button:hover {
            background-color: #555;
        }
        .intro {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        .activity-buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .drawing-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 20px;
        }
        #canvas {
            border: 1px solid black;
        }
        #color-picker {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            width: 200px;
        }
        .gallery {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .gallery-item {
            margin: 10px;
            border: 1px solid #ccc;
        }
        .gallery-item img {
            width: 200px;
            height: 200px;
            object-fit: cover;
        }

        /* 弹窗样式 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .color-box {
            width: 30px;
            height: 30px;
            margin: 5px;
            display: inline-block;
            cursor: pointer;
        }

    </style>
</head>
<body>

<div class="container">
    <h1>欢迎来到Black团队官网</h1>

    <div class="intro">
        <h2>Black团队介绍</h2>
        <p>Black团队是PICO轻世界的娱乐组织，为大家提供每时每刻的精彩。</p>
    </div>

    <a href="https://kassuone.github.io/Blacktuandui/black.html" class="button">了解更多</a>
</div>

<video src="black宣传.mp4" controls autoplay loop muted>
    您的浏览器不支持video标签。
</video>

<!-- 活动选择按钮 - 画画按钮移到视频下方 -->
<div class="activity-buttons">
    <a href="#drawing-game" class="button">进入画画</a>
    <a href="#view-gallery" class="button">查看其他人作品</a>
</div>

<!-- 画画页面 -->
<div id="drawing-game" style="display:none;">
    <h2>画画</h2>

    <div class="drawing-container">
        <!-- 画布 -->
        <canvas id="canvas" width="500" height="500"></canvas>

        <!-- 颜色选择按钮 -->
        <button class="button" id="colorBtn">选择画笔颜色</button>
    </div>

    <textarea id="text-input" placeholder="输入文本..." style="width: 200px; height: 50px;"></textarea>
    <button onclick="drawText()">绘制文本</button>
    
    <button onclick="clearCanvas()">清除画布</button>
    <button onclick="saveCanvas()">保存为图片</button>
    <button onclick="saveDrawing()">保存绘画</button>
</div>

<!-- 作品画廊页面 -->
<div id="view-gallery" style="display:none;">
    <h2>其他人作品</h2>
    <div class="gallery" id="gallery-container">
        <!-- 作品会在这里动态加载 -->
    </div>
    <button onclick="goBack()">返回画画</button>
</div>

<!-- 颜色选择弹窗 -->
<div id="colorModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2>选择画笔颜色</h2>
        <div id="color-picker">
            <div class="color-box" style="background-color: red;" onclick="changeColor('red')"></div>
            <div class="color-box" style="background-color: blue;" onclick="changeColor('blue')"></div>
            <div class="color-box" style="background-color: green;" onclick="changeColor('green')"></div>
            <div class="color-box" style="background-color: black;" onclick="changeColor('black')"></div>
            <div class="color-box" style="background-color: orange;" onclick="changeColor('orange')"></div>
            <div class="color-box" style="background-color: yellow;" onclick="changeColor('yellow')"></div>
            <div class="color-box" style="background-color: purple;" onclick="changeColor('purple')"></div>
            <div class="color-box" style="background-color: pink;" onclick="changeColor('pink')"></div>
            <div class="color-box" style="background-color: brown;" onclick="changeColor('brown')"></div>
            <div class="color-box" style="background-color: gray;" onclick="changeColor('gray')"></div>
            <div class="color-box" style="background-color: violet;" onclick="changeColor('violet')"></div>
            <div class="color-box" style="background-color: cyan;" onclick="changeColor('cyan')"></div>
            <div class="color-box" style="background-color: magenta;" onclick="changeColor('magenta')"></div>
            <div class="color-box" style="background-color: lime;" onclick="changeColor('lime')"></div>
            <div class="color-box" style="background-color: gold;" onclick="changeColor('gold')"></div>
            <div class="color-box" style="background-color: silver;" onclick="changeColor('silver')"></div>
            <div class="color-box" style="background-color: teal;" onclick="changeColor('teal')"></div>
            <div class="color-box" style="background-color: indigo;" onclick="changeColor('indigo')"></div>
            <div class="color-box" style="background-color: olive;" onclick="changeColor('olive')"></div>
            <div class="color-box" style="background-color: coral;" onclick="changeColor('coral')"></div>
            <div class="color-box" style="background-color: peachpuff;" onclick="changeColor('peachpuff')"></div>
            <div class="color-box" style="background-color: beige;" onclick="changeColor('beige')"></div>
            <div class="color-box" style="background-color: mintcream;" onclick="changeColor('mintcream')"></div>
            <div class="color-box" style="background-color: lavender;" onclick="changeColor('lavender')"></div>
            <input type="color" id="colorPicker" onchange="changeColor(this.value)" />
        </div>
    </div>
</div>

<script>
    // 活动页面控制
    document.querySelectorAll('.button').forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = e.target.getAttribute('href').substring(1);
            document.querySelectorAll('div[id]').forEach(div => {
                div.style.display = 'none';
            });
            document.getElementById(targetId).style.display = 'block';
        });
    });

    // 绘画功能
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    let drawing = false;
    let currentColor = 'black';  // 默认颜色

    // 设置默认画布内容
    window.onload = () => {
        const savedDrawing = localStorage.getItem('drawing');
        if (savedDrawing) {
            const image = new Image();
            image.src = savedDrawing;
            image.onload = () => {
                ctx.drawImage(image, 0, 0);
            };
        }
    };

    // 画画功能
    canvas.onmousedown = (e) => {
        drawing = true;
        ctx.beginPath();
        ctx.moveTo(e.offsetX, e.offsetY);
    };

    canvas.onmousemove = (e) => {
        if (drawing) {
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = 5;
            ctx.stroke();
        }
    };

    canvas.onmouseup = () => {
        drawing = false;
    };

    // 选择画笔颜色
    function changeColor(color) {
        currentColor = color;
        closeModal(); // 关闭弹窗
    }

    // 绘制文本
    function drawText() {
        const text = document.getElementById("text-input").value;
        ctx.font = '20px Arial';
        ctx.fillStyle = currentColor;
        ctx.fillText(text, 50, 50); // 文本位置可以根据需要调整
    }

    // 清空画布
    function clearCanvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // 保存画布为图片
    function saveCanvas() {
        const dataURL = canvas.toDataURL();
        const link = document.createElement('a');
        link.href = dataURL;
        link.download = 'drawing.png';
        link.click();
    }

    // 保存绘画内容
    function saveDrawing() {
        const dataURL = canvas.toDataURL();
        let drawings = JSON.parse(localStorage.getItem('drawings')) || [];
        drawings.push(dataURL);
        localStorage.setItem('drawings', JSON.stringify(drawings));
        alert('绘画已保存！');
    }

    // 查看其他人作品
    function loadGallery() {
        const galleryContainer = document.getElementById("gallery-container");
        galleryContainer.innerHTML = ''; // 清空画廊

        const drawings = JSON.parse(localStorage.getItem('drawings')) || [];
        drawings.forEach((drawing, index) => {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            const img = document.createElement('img');
            img.src = drawing;
            galleryItem.appendChild(img);
            galleryContainer.appendChild(galleryItem);
        });
    }

    // 返回到画画页面
    function goBack() {
        document.getElementById("drawing-game").style.display = "block";
        document.getElementById("view-gallery").style.display = "none";
    }

    // 打开颜色选择弹窗
    document.getElementById("colorBtn").onclick = () => {
        document.getElementById("colorModal").style.display = "block";
    };

    // 关闭颜色选择弹窗
    document.getElementById("closeModal").onclick = () => {
        document.getElementById("colorModal").style.display = "none";
    };

    // 加载作品画廊
    window.onload = loadGallery;
</script>

</body>
</html>
